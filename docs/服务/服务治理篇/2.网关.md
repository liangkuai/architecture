# 网关

拆分成微服务后，出现大量的服务，大量的接口，使得整个调用关系混乱。经常在开发过程中，写着写着，忽然想不起某个数据应该调用哪个服务。或者写错了，调用了不该调用的服务，本来一个只读的功能结果修改了数据。

为了应对这些情况，微服务的调用需要一个把关的东西，也就是网关。在调用者和被调用者中间加一层网关，每次调用时进行权限校验。另外，网关也可以作为一个提供服务接口文档的平台。

使用网关有一个问题就是要决定在多大粒度上使用：
- 最粗粒度的方案是整个微服务一个网关，微服务外部通过网关访问微服务，微服务内部则直接调用；
- 最细粒度则是所有调用，不管是微服务内部调用或者来自外部的调用，都必须通过网关。

折中的方案是按照业务领域将微服务分成几个区，区内直接调用，区间通过网关调用。


### 参考
- [一文详解微服务架构 - 古霜卡比](https://www.cnblogs.com/skabyy/p/11396571.html)