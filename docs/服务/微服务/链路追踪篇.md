# 链路追踪篇

在微服务架构下，一个用户的请求往往涉及多个内部服务调用。为了方便定位问题，需要能够记录每个用户请求时，微服务内部产生了多少服务调用，及其调用关系。这个叫做链路跟踪。

要实现链路跟踪，每次服务调用会在 HTTP 的 headers 中记录至少记录四项数据：
- traceId：traceId 标识一个用户请求的调用链路。具有相同 traceId 的调用属于同一条链路。
- spanId：标识一次服务调用的 ID，即链路跟踪的节点 ID。
- parentId：父节点的 spanId。
- requestTime & responseTime：请求时间和响应时间。

另外，还需要调用日志收集与存储的组件，以及展示链路调用的 UI 组件。

链路跟踪只能定位到哪个服务出现问题，不能提供具体的错误信息。查找具体的错误信息的能力需要由日志分析组件来提供。


### 参考
- [一文详解微服务架构 - 古霜卡比](https://www.cnblogs.com/skabyy/p/11396571.html)